const Web3 = require('web3');
const Tx = require('ethereumjs-tx').Transaction;
const rpcUrl = "https://rinkeby.infura.io/v3/d1fdd8caeb5248ec83f1413e78e546f1";


const web3 = new Web3(rpcUrl);

web3.eth.accounts.wallet.add({
    privateKey: '0x4278b9f4c1a096f23336cef0c54b84bf8ec381504568ed11a73c3a07aa8b2db9',
    address: '0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C'
});

//console.log(
  //  web3.eth.accounts.wallet);
/*
const account = "0x45F4ad5A77aAA7258c8045F9E006BABd70Aa8366";

web3.eth.getBalance(account, (err, wei) => {
    balance = web3.utils.fromWei(wei, 'ether')
    console.log(balance);
});

const abi =[ { "inputs": [ { "internalType": "address payable", "name": "eoa", "type": "address" } ], "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "address", "name": "", "type": "address" }, { "indexed": false, "internalType": "string", "name": "", "type": "string" } ], "name": "winnerevent", "type": "event" }, { "inputs": [], "name": "auctionState", "outputs": [ { "internalType": "enum Auction.State", "name": "", "type": "uint8" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "address", "name": "", "type": "address" } ], "name": "bids", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "cancelAuction", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "endBlock", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "finalizeAuction", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "flag", "outputs": [ { "internalType": "bool", "name": "", "type": "bool" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "highestBidder", "outputs": [ { "internalType": "address payable", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "highestBindingBid", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "inc", "outputs": [ { "internalType": "int256", "name": "", "type": "int256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "ipfsHash", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "length", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "name": "mapl", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [ { "internalType": "address payable", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "placeBid", "outputs": [ { "internalType": "bool", "name": "", "type": "bool" } ], "stateMutability": "payable", "type": "function" }, { "inputs": [], "name": "startBlock", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "stateMutability": "payable", "type": "receive" } ];
//contract address
const address = "0x7993267fff0B6c0885BccBC58d803750D539252b";

const contract = new web3.eth.Contract(abi, address);

//contract.methods.createAuction().send();

*/
//console.log(web3.eth.accounts[0]);

// const account = "0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C";

// web3.eth.getBalance(account, (err, wei) => {
//     balance = web3.utils.fromWei(wei, 'ether')
//     console.log(balance);
// });

const ContractABI =[ { "inputs": [], "stateMutability": "nonpayable", "type": "constructor" }, { "inputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "name": "auctions", "outputs": [ { "internalType": "contract Auction", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "createAuction", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "n", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "nm", "outputs": [ { "internalType": "string", "name": "", "type": "string" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "numberofcontracts", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "numberofcontracts_g", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [ { "internalType": "address", "name": "", "type": "address" } ], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "sets", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "v", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "stateMutability": "view", "type": "function" } ];

const contractAddress = "0x558b22595717B253336587c47fdc5c685c2cB526";

const mycontract = new web3.eth.Contract(ContractABI);

const bc = '0x6080604052600060025560006003556040518060400160405280600381526020017f6173640000000000000000000000000000000000000000000000000000000000815250600490805190602001906100599291906100b6565b5034801561006657600080fd5b5033600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506103e86002819055506101ba565b8280546100c290610159565b90600052602060002090601f0160209004810192826100e4576000855561012b565b82601f106100fd57805160ff191683800117855561012b565b8280016001018555821561012b579182015b8281111561012a57825182559160200191906001019061010f565b5b509050610138919061013c565b5090565b5b8082111561015557600081600090555060010161013d565b5090565b6000600282049050600182168061017157607f821691505b602082108114156101855761018461018b565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b61210e806101c96000396000f3fe60806040523480156200001157600080fd5b5060043610620000a05760003560e01c80635930df9f116200006f5780635930df9f146200014157806359a9cf1e146200014d5780637c2efcba146200016f5780638da5cb5b1462000191578063f581144714620001b357620000a0565b80632e52d60614620000a5578063433eddbe14620000c757806349282d8414620000e9578063571a26a0146200010b575b600080fd5b620000af620001bf565b604051620000be9190620005f3565b60405180910390f35b620000d1620001c5565b604051620000e09190620005f3565b60405180910390f35b620000f3620001cf565b604051620001029190620005cf565b60405180910390f35b620001296004803603810190620001239190620004c7565b62000265565b604051620001389190620005b2565b60405180910390f35b6200014b620002a5565b005b6200015762000303565b604051620001669190620005f3565b60405180910390f35b6200017962000309565b604051620001889190620005f3565b60405180910390f35b6200019b6200030f565b604051620001aa919062000578565b60405180910390f35b620001bd62000335565b005b60025481565b6000600154905090565b60048054620001de90620006dc565b80601f01602080910402602001604051908101604052809291908181526020018280546200020c90620006dc565b80156200025d5780601f1062000231576101008083540402835291602001916200025d565b820191906000526020600020905b8154815290600101906020018083116200023f57829003601f168201915b505050505081565b600081815481106200027657600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600560028190555060006040518060400160405280600981526020017f415364617364617364000000000000000000000000000000000000000000000081525090508060049080519060200190620002ff929190620003f2565b5050565b60015481565b60035481565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600160008154809291906200034a9062000712565b9190505550600033604051620003609062000483565b6200036c919062000595565b604051809103906000f08015801562000389573d6000803e3d6000fd5b5090506000819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b8280546200040090620006dc565b90600052602060002090601f01602090048101928262000424576000855562000470565b82601f106200043f57805160ff191683800117855562000470565b8280016001018555821562000470579182015b828111156200046f57825182559160200191906001019062000452565b5b5090506200047f919062000491565b5090565b6118ef80620007ea83390190565b5b80821115620004ac57600081600090555060010162000492565b5090565b600081359050620004c181620007cf565b92915050565b600060208284031215620004da57600080fd5b6000620004ea84828501620004b0565b91505092915050565b620004fe8162000640565b82525050565b6200050f816200062c565b82525050565b62000520816200067e565b82525050565b6000620005338262000610565b6200053f81856200061b565b935062000551818560208601620006a6565b6200055c81620007be565b840191505092915050565b620005728162000674565b82525050565b60006020820190506200058f600083018462000504565b92915050565b6000602082019050620005ac6000830184620004f3565b92915050565b6000602082019050620005c9600083018462000515565b92915050565b60006020820190508181036000830152620005eb818462000526565b905092915050565b60006020820190506200060a600083018462000567565b92915050565b600081519050919050565b600082825260208201905092915050565b6000620006398262000654565b9050919050565b60006200064d8262000654565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006200068b8262000692565b9050919050565b60006200069f8262000654565b9050919050565b60005b83811015620006c6578082015181840152602081019050620006a9565b83811115620006d6576000848401525b50505050565b60006002820490506001821680620006f557607f821691505b602082108114156200070c576200070b6200078f565b5b50919050565b60006200071f8262000674565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82141562000755576200075462000760565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000601f19601f8301169050919050565b620007da8162000674565b8114620007e657600080fd5b5056fe60806040523480156200001157600080fd5b50604051620018ef380380620018ef833981810160405281019062000037919062000200565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506001600460016101000a81548160ff02191690836003811115620000c4577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550436001819055506a52b7d2dcc80cd2e4000000600154620000eb91906200022c565b6002819055506040518060800160405280605481526020016200189b60549139600390805190602001906200012292919062000139565b50670de0b6b3a7640000600a819055505062000375565b8280546200014790620002c7565b90600052602060002090601f0160209004810192826200016b5760008555620001b7565b82601f106200018657805160ff1916838001178555620001b7565b82800160010185558215620001b7579182015b82811115620001b657825182559160200191906001019062000199565b5b509050620001c69190620001ca565b5090565b5b80821115620001e5576000816000905550600101620001cb565b5090565b600081519050620001fa816200035b565b92915050565b6000602082840312156200021357600080fd5b60006200022384828501620001e9565b91505092915050565b60006200023982620002bd565b91506200024683620002bd565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156200027e576200027d620002fd565b5b828201905092915050565b600062000296826200029d565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006002820490506001821680620002e057607f821691505b60208210811415620002f757620002f66200032c565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b620003668162000289565b81146200037257600080fd5b50565b61151680620003856000396000f3fe6080604052600436106100ec5760003560e01c8063890eba681161008a578063c623674f11610059578063c623674f14610423578063ecfc7ecc1461044e578063f5b56c561461046c578063f77282ab1461049757610235565b8063890eba681461038b5780638da5cb5b146103b65780638fa8b790146103e157806391f90157146103f857610235565b8063371303c0116100c6578063371303c0146102cd57806348cd4cb1146102f857806362ea82db146103235780637fb450991461036057610235565b806302d0f2431461023a578063083c6323146102775780631f7b6d32146102a257610235565b36610235576002600381111561012b577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600460019054906101000a900460ff166003811115610173577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b1480156101cd5750600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16145b15610211577f95b26cac9fdd092138bb14a06ea0c90bbc1a7d27c74b5ba7dfb6440b29448539336003604051610204929190611107565b60405180910390a1610233565b6102196104ae565b600460006101000a81548160ff0219169083151502179055505b005b600080fd5b34801561024657600080fd5b50610261600480360381019061025c9190610f95565b61093f565b60405161026e91906110d1565b60405180910390f35b34801561028357600080fd5b5061028c61097e565b60405161029991906111aa565b60405180910390f35b3480156102ae57600080fd5b506102b7610984565b6040516102c491906111aa565b60405180910390f35b3480156102d957600080fd5b506102e261098a565b6040516102ef919061116d565b60405180910390f35b34801561030457600080fd5b5061030d610990565b60405161031a91906111aa565b60405180910390f35b34801561032f57600080fd5b5061034a60048036038101906103459190610f6c565b610996565b60405161035791906111aa565b60405180910390f35b34801561036c57600080fd5b506103756109ae565b6040516103829190611152565b60405180910390f35b34801561039757600080fd5b506103a06109c1565b6040516103ad9190611137565b60405180910390f35b3480156103c257600080fd5b506103cb6109d4565b6040516103d891906110ec565b60405180910390f35b3480156103ed57600080fd5b506103f66109f8565b005b34801561040457600080fd5b5061040d610aa3565b60405161041a91906110ec565b60405180910390f35b34801561042f57600080fd5b50610438610ac9565b6040516104459190611188565b60405180910390f35b6104566104ae565b6040516104639190611137565b60405180910390f35b34801561047857600080fd5b50610481610b57565b60405161048e91906111aa565b60405180910390f35b3480156104a357600080fd5b506104ac610b5d565b005b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561050a57600080fd5b60015443101561051957600080fd5b60025443111561052857600080fd5b6006600081548092919061053b9061136e565b91905055506001600381111561057a577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600460019054906101000a900460ff1660038111156105c2577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b146105cc57600080fd5b655af3107a400034116105de57600080fd5b600034600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461062b91906111f6565b9050600554811161063b57600080fd5b6000600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414156107475780600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506009339080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600b600081548092919061073d906113b7565b919050555061078c565b80600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505b60086000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205481116108775761086c600a548261080591906111f6565b60086000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f27565b600581905550610937565b6108ef81600a5460086000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546108ea91906111f6565b610f27565b60058190555033600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b600191505090565b6009818154811061094f57600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60025481565b600b5481565b60065481565b60015481565b60086020528060005260406000206000915090505481565b600460019054906101000a900460ff1681565b600460009054906101000a900460ff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610a5057600080fd5b6003600460016101000a81548160ff02191690836003811115610a9c577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b0217905550565b600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60038054610ad69061133c565b80601f0160208091040260200160405190810160405280929190818152602001828054610b029061133c565b8015610b4f5780601f10610b2457610100808354040283529160200191610b4f565b820191906000526020600020905b815481529060010190602001808311610b3257829003601f168201915b505050505081565b60055481565b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610bf657506000600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054115b610bff57600080fd5b60008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff16915060055490508173ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015610c70573d6000803e3d6000fd5b50600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16915060055460086000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610d05919061124c565b9050600060086000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015610db4573d6000803e3d6000fd5b5060005b6001600b54610dc7919061124c565b811015610ed15760098181548110610e08577f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169250600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205491508273ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050158015610ebd573d6000803e3d6000fd5b508080610ec9906113b7565b915050610db8565b506002600460016101000a81548160ff02191690836003811115610f1e577f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b02179055505050565b6000818311610f3857829050610f3c565b8190505b92915050565b600081359050610f51816114b2565b92915050565b600081359050610f66816114c9565b92915050565b600060208284031215610f7e57600080fd5b6000610f8c84828501610f42565b91505092915050565b600060208284031215610fa757600080fd5b6000610fb584828501610f57565b91505092915050565b610fc781611292565b82525050565b610fd681611280565b82525050565b610fe5816112a4565b82525050565b610ff4816112f7565b82525050565b611003816112c3565b82525050565b6000611014826111da565b61101e81856111e5565b935061102e818560208601611309565b6110378161148d565b840191505092915050565b6000815461104f8161133c565b61105981866111e5565b945060018216600081146110745760018114611086576110b9565b60ff19831686526020860193506110b9565b61108f856111c5565b60005b838110156110b157815481890152600182019150602081019050611092565b808801955050505b50505092915050565b6110cb816112ed565b82525050565b60006020820190506110e66000830184610fcd565b92915050565b60006020820190506111016000830184610fbe565b92915050565b600060408201905061111c6000830185610fcd565b818103602083015261112e8184611042565b90509392505050565b600060208201905061114c6000830184610fdc565b92915050565b60006020820190506111676000830184610feb565b92915050565b60006020820190506111826000830184610ffa565b92915050565b600060208201905081810360008301526111a28184611009565b905092915050565b60006020820190506111bf60008301846110c2565b92915050565b60008190508160005260206000209050919050565b600081519050919050565b600082825260208201905092915050565b6000611201826112ed565b915061120c836112ed565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561124157611240611400565b5b828201905092915050565b6000611257826112ed565b9150611262836112ed565b92508282101561127557611274611400565b5b828203905092915050565b600061128b826112cd565b9050919050565b600061129d826112cd565b9050919050565b60008115159050919050565b60008190506112be8261149e565b919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000611302826112b0565b9050919050565b60005b8381101561132757808201518184015260208101905061130c565b83811115611336576000848401525b50505050565b6000600282049050600182168061135457607f821691505b602082108114156113685761136761145e565b5b50919050565b6000611379826112c3565b91507f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156113ac576113ab611400565b5b600182019050919050565b60006113c2826112ed565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156113f5576113f4611400565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000601f19601f8301169050919050565b600481106114af576114ae61142f565b5b50565b6114bb81611280565b81146114c657600080fd5b50565b6114d2816112ed565b81146114dd57600080fd5b5056fea2646970667358221220dc96654397bddfca896e7956c1321dff5fb80b5102e2de7c26c6fc6f3e43f8ec64736f6c6343000800003368747470733a2f2f697066732e696f2f697066732f516d57384d443963766b75567542745662524b6851434c455356396256534472556f4e636f65556571657a466a613f66696c656e616d653d6473702e747874a2646970667358221220183b838038690e263ec4438c76af2f6354d928c0b86894868023cf37fd5f9d9964736f6c63430008000033';


//var contact = mycontract.new({from: "0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C", data: bc, gas:2000000});

//console.log(contact.address);


//contract.methods.createAuction().send({from:'0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C', gas:200000},(err, result) => { console.log(result) });

var myContract = new web3.eth.Contract( ContractABI, {
  //  from: '0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C', // default from address
  //  gasPrice: '20000000000' // default gas price in wei, 20 gwei in this case
});

myContract.deploy({
    data:bc
}).send({
    from: '0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C',
    gas: 2000000
}).then((instance) => { 
    console.log("Contract mined at " + instance.options.address);
    helloInstance = instance; 
});

//privatek = Buffer.from('c293ca01402b498cf37e541123cb2057fd88fa3963347ab050a6066a92342097', 'hex');
//privatekk = '0xc293ca01402b498cf37e541123cb2057fd88fa3963347ab050a6066a92342097';
//imported account

/*
privatek = Buffer.from('4278b9f4c1a096f23336cef0c54b84bf8ec381504568ed11a73c3a07aa8b2db9', 'hex');

const account1 = "0x74Ab49E03013C7dCa945f794eFdA13BE3Dee364C";

web3.eth.getBalance(account1, (err, wei) => {
    balance = web3.utils.fromWei(wei, 'ether')
    console.log(balance);
});


//build transaction
web3.eth.getTransactionCount(account1, (err, txCount) =>{
//smart contract data
 
const data = '0x6080604052600060025560006003556040518060400160405280600381526020017f61736400000000000000000000000000000000000000000000000000000000008152506004908051906020019061005992919061006c565b5034801561006657600080fd5b50610170565b8280546100789061010f565b90600052602060002090601f01602090048101928261009a57600085556100e1565b82601f106100b357805160ff19168380011785556100e1565b828001600101855582156100e1579182015b828111156100e05782518255916020019190600101906100c5565b5b5090506100ee91906100f2565b5090565b5b8082111561010b5760008160009055506001016100f3565b5090565b6000600282049050600182168061012757607f821691505b6020821081141561013b5761013a610141565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b61062a8061017f6000396000f3fe608060405234801561001057600080fd5b50600436106100885760003560e01c80635930df9f1161005b5780635930df9f1461011757806359a9cf1e146101215780637c2efcba1461013f578063f58114471461015d57610088565b80632e52d6061461008d578063433eddbe146100ab57806349282d84146100c9578063571a26a0146100e7575b600080fd5b610095610167565b6040516100a2919061043b565b60405180910390f35b6100b361016d565b6040516100c0919061043b565b60405180910390f35b6100d1610177565b6040516100de9190610419565b60405180910390f35b61010160048036038101906100fc919061037e565b610205565b60405161010e91906103fe565b60405180910390f35b61011f610244565b005b6101296102a0565b604051610136919061043b565b60405180910390f35b6101476102a6565b604051610154919061043b565b60405180910390f35b6101656102ac565b005b60025481565b6000600154905090565b60048054610184906104f3565b80601f01602080910402602001604051908101604052809291908181526020018280546101b0906104f3565b80156101fd5780601f106101d2576101008083540402835291602001916101fd565b820191906000526020600020905b8154815290600101906020018083116101e057829003601f168201915b505050505081565b6000818154811061021557600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600560028190555060006040518060400160405280600981526020017f41536461736461736400000000000000000000000000000000000000000000008152509050806004908051906020019061029c9291906102c6565b5050565b60015481565b60035481565b600160008154809291906102bf90610525565b9190505550565b8280546102d2906104f3565b90600052602060002090601f0160209004810192826102f4576000855561033b565b82601f1061030d57805160ff191683800117855561033b565b8280016001018555821561033b579182015b8281111561033a57825182559160200191906001019061031f565b5b509050610348919061034c565b5090565b5b8082111561036557600081600090555060010161034d565b5090565b600081359050610378816105dd565b92915050565b60006020828403121561039057600080fd5b600061039e84828501610369565b91505092915050565b6103b08161049c565b82525050565b60006103c182610456565b6103cb8185610461565b93506103db8185602086016104c0565b6103e4816105cc565b840191505092915050565b6103f881610492565b82525050565b600060208201905061041360008301846103a7565b92915050565b6000602082019050818103600083015261043381846103b6565b905092915050565b600060208201905061045060008301846103ef565b92915050565b600081519050919050565b600082825260208201905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006104a7826104ae565b9050919050565b60006104b982610472565b9050919050565b60005b838110156104de5780820151818401526020810190506104c3565b838111156104ed576000848401525b50505050565b6000600282049050600182168061050b57607f821691505b6020821081141561051f5761051e61059d565b5b50919050565b600061053082610492565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156105635761056261056e565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000601f19601f8301169050919050565b6105e681610492565b81146105f157600080fd5b5056fea26469706673582212208db5f7d2c5f6371bc4e68190841b0951a475da458ee3576667964d8ab280736c64736f6c63430008000033';

const txObject = {
        nonce: web3.utils.toHex(txCount) ,
     //   to: contractAddress,
      // value: web3.utils.toHex( web3.utils.toWei('0.01','ether')) ,
        gasLimit: web3.utils.toHex(2000000)  ,
        gasPrice: web3.utils.toHex(web3.utils.toWei('10','gwei')) ,
        data: data
    }


    console.log(txObject);

    
const tx = new Tx(txObject, {chain:'rinkeby'});

tx.sign(privatek);


const serializedTransaction = tx.serialize();
const raw = '0x' + serializedTransaction.toString('Hex');

//broadcast transaction
web3.eth.sendSignedTransaction(raw,(err,txHash)=>{
    console.log('err : ',err,'txHash : ',txHash)
    //use this hash to find smartcontract on etherscan
    }).on('receipt ', console.log,);
    




// web3.eth.getBalance(account1, (err, wei) => {
//     balance = web3.utils.fromWei(wei, 'ether')
//     console.log(balance);
// });



});

*/

 //let send = web3.eth.sendTransaction({from:privatekk, to:"0xD0762510d4D90BcE826CB22c66FBC974d9Aa3Ce2", value:web3.utils.toWei('10','gwei')});

 //console.log(send);

//contract.methods.numberofcontracts().call((err, result) => { console.log("number of contracts: ", result) });


// Sign the transaction




